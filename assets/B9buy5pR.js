import{p as a,d as p,u,a as l,r as m,o as v,s as f,b as g,c as x,e as y,f as n,g as w,n as A}from"./D53Bb6MS.js";const _=a("/odixApp.svg"),k=a("/appstore.png"),I={class:"flex flex-col items-center justify-center"},U=p({__name:"index",setup(h){const{$uaParser:s}=u(),t=l(),c=w();let r;const e=m({userAgent:"",ipAddress:"",clickTime:"",deviceInfo:{},userId:""}),d=async()=>{try{const i=await $fetch(c.public.apiUrl,{credentials:"omit",mode:"cors",method:"POST",body:JSON.stringify({ip:e.ipAddress,referralCode:t.query.code||"",userAgent:e.userAgent,clickTime:e.clickTime,deviceSpecs:e.deviceInfo,inviterId:t.query.id||"",deviceId:e.userId,deviceModel:e.deviceInfo.deviceModel,deviceBrand:e.deviceInfo.deviceVendor}),headers:{"Content-Type":"application/json"}});r=setTimeout(()=>{A("https://apps.apple.com/us/app/odixpay-crypto-wallet-card/id6736972556",{external:!0})},3e3)}catch{}};return v(async()=>{if(!t.query.id||!t.query.code)return f({statusCode:404,statusMessage:"Not Found"});const o=await(await fetch("https://api.ipify.org?format=json")).json();e.ipAddress=o.ip,e.userAgent=navigator.userAgent,e.clickTime=new Date().toISOString(),e.userId=t.query.id,e.deviceInfo={deviceType:s.device.type||"Desktop",deviceVendor:s.device.vendor||"Unknown Vendor",deviceModel:s.device.model||"Unknown Model",os:s.os.name+"__"+s.os.version||"Unknown OS",browserName:s.browser.name||"Unknown Browser",cpu:s.cpu.architecture||"Unknown CPU"},await d()}),g(()=>{clearTimeout(r)}),(i,o)=>(y(),x("div",I,o[0]||(o[0]=[n("div",{class:"flex items-center justify-center mb-4 space-x-[-32px] drop-shadow-md"},[n("img",{src:_,class:"size-[74px]"}),n("img",{class:"size-[74px]",src:k,alt:""})],-1),n("h1",{class:"text-xl font-[300] text-gray-800 text-center capitalize loading mx-auto relative"},"Redirecting to AppStore",-1)])))}});export{U as default};
