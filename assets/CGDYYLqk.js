import{p as c,d as u,u as l,a as m,r as v,o as f,s as a,b as g,c as x,e as y,f as n,g as w,n as h}from"./DoXfwT81.js";const _=c("/odixApp.svg"),k=c("/appstore.png"),A={class:"flex flex-col items-center justify-center"},U=u({__name:"index",setup(I){const{$uaParser:t}=l(),o=m(),d=w();let r;const e=v({userAgent:"",ipAddress:"",clickTime:"",deviceInfo:{},userId:""}),p=async()=>{try{const s=await $fetch(d.public.apiUrl,{credentials:"omit",mode:"cors",method:"POST",body:JSON.stringify({ip:e.ipAddress,referralCode:o.query.code||"",userAgent:e.userAgent,clickTime:e.clickTime,deviceSpecs:e.deviceInfo,inviterId:o.query.id||"",deviceId:e.userId,deviceModel:e.deviceInfo.deviceModel,deviceBrand:e.deviceInfo.deviceVendor}),headers:{"Content-Type":"application/json"}});r=setTimeout(()=>{h("https://apps.apple.com/us/app/odixpay-crypto-wallet-card/id6736972556",{external:!0})},3e3)}catch(s){return a({statusCode:s.statusCode,statusMessage:"Something went wrong"})}};return f(async()=>{if(!o.query.id||!o.query.code)return a({statusCode:404,statusMessage:"Not Found"});fetch("https://api.ipify.org?format=json").then(s=>s.json()).then(({ip:s})=>{e.ipAddress=s}),e.userAgent=navigator.userAgent,e.clickTime=new Date().toISOString(),e.userId=o.query.id,e.deviceInfo={deviceType:t.device.type||"Desktop",deviceVendor:t.device.vendor||"Unknown Vendor",deviceModel:t.device.model||"Unknown Model",os:t.os.name+"__"+t.os.version||"Unknown OS",browserName:t.browser.name||"Unknown Browser",cpu:t.cpu.architecture||"Unknown CPU"},await p()}),g(()=>{clearTimeout(r)}),(s,i)=>(y(),x("div",A,i[0]||(i[0]=[n("div",{class:"flex items-center justify-center mb-4 space-x-[-32px] drop-shadow-md"},[n("img",{src:_,class:"size-[74px]"}),n("img",{class:"size-[74px]",src:k,alt:""})],-1),n("h1",{class:"text-xl font-[300] text-gray-800 text-center capitalize loading mx-auto relative"},"Redirecting to AppStore",-1)])))}});export{U as default};
